<div
  x-data="slider()"
  x-init="init()"
  class="relative w-full max-w-2xl mx-auto overflow-hidden touch-pan-x"
  @touchstart="startSwipe($event)"
  @touchmove="onSwipe($event)"
  @touchend="endSwipe()"
>
  <!-- Slides -->
  <div
    class="flex transition-transform duration-500 ease-in-out"
    :style="`transform: translateX(-${active * 100}%); width: ${images.length * 100}%`"
  >
    <template x-for="(image, index) in images" :key="index">
      <div class="w-full flex-shrink-0">
        <img :src="image" alt="" class="w-full h-64 object-cover rounded-lg" />
      </div>
    </template>
  </div>

  <!-- Prev / Next Buttons -->
  <button
    @click="prev"
    class="absolute top-1/2 left-2 transform -translate-y-1/2 bg-white p-2 rounded-full shadow"
  >
    &#8592;
  </button>
  <button
    @click="next"
    class="absolute top-1/2 right-2 transform -translate-y-1/2 bg-white p-2 rounded-full shadow"
  >
    &#8594;
  </button>

  <!-- Indicators -->
  <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-2">
    <template x-for="(image, index) in images" :key="index">
      <div
        @click="goTo(index)"
        :class="{'bg-white': active !== index, 'bg-blue-500': active === index}"
        class="w-3 h-3 rounded-full cursor-pointer border border-gray-300"
      ></div>
    </template>
  </div>
</div>


<script>
    function slider() {
  return {
    active: 0,
    images: [
      '/img/slide1.jpg',
      '/img/slide2.jpg',
      '/img/slide3.jpg',
    ],
    startX: 0,
    endX: 0,
    init() {
      // Optional: Auto-slide
      setInterval(() => this.next(), 8000);
    },
    next() {
      this.active = (this.active + 1) % this.images.length;
    },
    prev() {
      this.active = (this.active - 1 + this.images.length) % this.images.length;
    },
    goTo(index) {
      this.active = index;
    },
    startSwipe(e) {
      this.startX = e.touches[0].clientX;
    },
    onSwipe(e) {
      this.endX = e.touches[0].clientX;
    },
    endSwipe() {
      if (this.startX - this.endX > 50) {
        this.next(); // Swipe left
      } else if (this.endX - this.startX > 50) {
        this.prev(); // Swipe right
      }
    }
  }
}

</script>