<div x-data="{sc:'', scroll:false,music: new Audio('/mp3/nabi.mp3'),akhir:false,
    init() {
            this.music.addEventListener('ended', () => {
                this.music.currentTime = 0; // Reset waktu ke awal
                this.music.play(); // Memutar ulang musik
            });
        }
}" x-bind:class="scroll? 'overflow-auto':'overflow-hidden'" class="container max-h-screen">
 <!-- to sc -->
 <div x-show="scroll" class="container fixed left-0 right-0 text-center z-50 bottom-0 text-turqu">

    <div class="mx-auto w-fit h-24 animate-bounce">
        <a x-bind:href="sc" class="px-10 py-10" x-html="akhir ? 
`<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='currentColor' class='bi bi-arrow-up-circle' viewBox='0 0 16 16'>
<path fill-rule='evenodd' d='M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707z'/>
</svg>` : 
`<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='currentColor' class='bi bi-arrow-down-circle' viewBox='0 0 16 16'>
<path fill-rule='evenodd' d='M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z'/>
</svg>`">
        </a>

    </div>
</div>
    <section id="header"
        class="container h-screen bg-bg-m bg-hv md:bg-100% bg-center font-sofia animate-zhv delay-1s md:animate-zoo text-turqu-prime">
        <div class="grid grid-cols-stack w-full h-full overflow-hidden">
            <div
                class="row-satu col-span-full flex relative ms-auto me-auto text-center flex-col items-center backdrop-filter  font-Rundkursiv">
                <h1 class="text-5xl mt-4 md:mt-8 drop-shadow-lg shadow-black"><%- textsContents[1].textContent %></h1>
                <h1 class="text-4xl font-kufi mt-4 drop-shadow-lg shadow-black"><%- textsContents[0].textContent %></h1>
                <div class="logo mt-8 mb-8">
                    <img class="md:w-80 w-40 animate-logo" src="/images/Logo.gif" alt="Al-Ukhuwwah Daarul Musthofa">
                </div>
                <div x-intersect:enter="sc = '#badan'" class="kepada flex flex-col items-center">
                    <h6 class="text-xl"><%- textsContents[2].textContent %></h6>
                    <h5 class="text-2xl font-zilla">
                        <%= nama.toUpperCase() %>
                    </h5>
                </div>
                <div @click="() => {scroll = !scroll;
                     music.play().catch(error => {
                            console.log('Audio play failed:', error);
                        });
                }" :class="scroll? 'invisible':'visible'" class="buka mt-14 md:mt-3 text-xl animate-bounce">
                    <a href="#badan" class="px-8 py-1 rounded border-black border"><span><svg
                                xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-envelope-open inline mx-1 my-1" viewBox="0 0 16 16">
                                <path
                                    d="M8.47 1.318a1 1 0 0 0-.94 0l-6 3.2A1 1 0 0 0 1 5.4v.817l5.75 3.45L8 8.917l1.25.75L15 6.217V5.4a1 1 0 0 0-.53-.882zM15 7.383l-4.778 2.867L15 13.117zm-.035 6.88L8 10.082l-6.965 4.18A1 1 0 0 0 2 15h12a1 1 0 0 0 .965-.738ZM1 13.116l4.778-2.867L1 7.383v5.734ZM7.059.435a2 2 0 0 1 1.882 0l6 3.2A2 2 0 0 1 16 5.4V14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5.4a2 2 0 0 1 1.059-1.765z" />
                            </svg></span>
                        <%= textsContents[3].textContent %>
                    </a>
                </div>
                <div x-data="{play:`<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='currentColor' class='bi bi-play-circle' viewBox='0 0 16 16'>
                          <path d='M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16'/>
                          <path d='M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445'/>
                        </svg>`,
                    pause:`<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='currentColor' class='bi bi-pause-circle' viewBox='0 0 16 16'>
                          <path d='M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16'/>
                          <path d='M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0z'/>
                        </svg>`,span:`<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='currentColor' class='bi bi-pause-circle' viewBox='0 0 16 16'>
                          <path d='M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16'/>
                          <path d='M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0z'/>
                        </svg>`}" x-show="scroll" @click="() => {
			if(music.paused || music.ended){
				music.play();
                span=pause;
			}else{
				music.pause();
                span=play;
			}
		}" class="mt-4 text-xl">
                    <span class="px-4 py-4" x-html="span">
                    </span>
                </div>
            </div>
            <div x-data="{visible:false}" x-intersect:enter="visible = true" x-intersect:leave="visible = false"
                class="row-satu col-span-full flex justify-between items-center">
                <div class="w-fit">
                    <img x-show="visible" x-bind:class="{'animate-scaleTransRot-l':visible}" src="/images/d-c.png"
                        alt="circle" class="w-80 md:w-[40rem] translate-x-m-50% ">
                </div>
                <div class="w-fit">
                    <img x-show="visible" x-bind:class="{'animate-scaleTransRot-r':visible}" src="/images/d-c.png"
                        alt="circle" class="w-80 md:w-[40rem] translate-x-50%">
                </div>
            </div>
        </div>
    </section>
    <!-- badan -->
    <section x-data="{show:false}" x-intersect:leave="show = false" class="text-turqu-prime container">
        <!-- post 1 -->
        <div id="badan" x-data="{visible:false}" x-intersect:enter="() => { visible = true; show = true }"
            x-intersect:leave="visible = false" class="container">
            <!-- frem post 1 -->
            <div x-bind:class="{'animate-zhv ':visible}"
                class="h-screen w-full bg-bg-m bg-hv md:bg-100% bg-center md:animate-zoo2 m-1 rounded-lg grid grid-cols-stack relative overflow-hidden scrollbar-none">
                <div :class="{'animate-bintang-show':visible}"
                    class="col-span-full row-satu z-40 bg-d-l1 bg-100% bg-top md:bg-100-100 origin-top-left bg-no-repeat h-screen">
                </div>
                <div :class="{'animate-bintang-show':visible}"
                    class="col-span-full row-satu z-40 bg-d-l2 bg-100% bg-top md:bg-100-100 origin-top-right bg-no-repeat md:-translate-y-32 md:transform h-screen">
                </div>

                <!-- tulisan -->
                <div x-intersect:enter="sc = '#screen2'" :class="{'animate-bintang-show':visible}"
                    class="col-span-full row-satu text-center z-20">
                    <h1 class="text-3xl mt-1 font-kufi"><%- textsContents[4].textContent %></h1>
                    <h1 class="text-3xl mt-1 font-Rundkursiv">Al-Ukhuwwah Daarul Mushthofa</h1>
                    <h4 class="text-base"><%- textsContents[5].textContent %></h4>
                    <p class="text-base mx-10"><%- textsContents[6].textContent %></p>
                    <div class="w-fit pt-1 mx-auto rounded-full grid grid-cols-stack">
                        <div class="row-satu col-span-full">
                            <img class="w-48 animate-spin-slow" src="/images/d-c.png" alt="Al-Ukhuwwah Daarul Musthofa">
                        </div>
                        <div :class="{'animate-logo':visible}"
                            class="row-satu col-span-full flex justify-center items-center z-10">
                            <img class="w-40" src="/images/logo3.png" alt="Al-Ukhuwwah Daarul Musthofa">
                        </div>
                    </div>
                    <div x-data="{
                        v: false,
                        animEnter() {
                            const g = document.querySelectorAll('.g-slider');
        
                            g.forEach((element, i) => {
                                setTimeout(() => {
                                    if (i != g.length - 1) {
                                        element.classList.add('animate-slide-out');
                                    } else {
                                        element.classList.add('h-96');
                                    }
                                }, i * 3000);
                            });
                        },
                        animLeave() {
                            const g = document.querySelectorAll('.g-slider');
        
                            g.forEach((element, i) => {
                                    if (i != g.length - 1) {
                                        element.classList.remove('animate-slide-out');
                                    } else {
                                        element.classList.remove('h-96');
                                    }
                            });
                        }
                    }" x-intersect:enter="v = true; animEnter()" x-intersect:leave="v = false; animLeave()"
                        class="container transform -translate-y-10">

                        <div class="g-slider bg-slide2 bg-100% bg-top mx-auto w-80 h-0 bg-no-repeat"></div>
                        <div class="g-slider bg-slide1 bg-100% bg-top mx-auto w-80 h-0 bg-no-repeat"></div>
                        <div class="g-slider bg-slide3 bg-100% bg-top mx-auto w-80 h-0 bg-no-repeat"></div>
                        <div class="g-slider bg-slide4 bg-100% bg-top mx-auto w-80 h-0 bg-no-repeat"></div>
                        <div class="g-slider bg-slide5 bg-100% bg-top mx-auto w-80 h-0 bg-no-repeat"></div>
                        <div class="g-slider bg-slide-all bg-100% bg-top mx-auto w-80 bg-no-repeat"></div>
                    </div>


                </div>
            </div>
        </div>
        <!-- screen2 -->
        <div x-data="{visible:false}" x-intersect:enter="visible = true" x-intersect:leave="visible = false"
            class="container overflow-hidden">
            <!-- frem post 2 -->
            <div id="screen2" x-bind:class="{'animate-zhv':visible}"
                class="h-full w-full bg-bg-m bg-hv md:bg-100% bg-center md:animate-zoo m-1 rounded-lg overflow-hidden">
                <!-- canvas -->
                <div class="grid grid-cols-stack w-full h-full overflow-y-scroll scrollbar-none">
                    <!-- decorasi -->
                    <div class="col-span-full h-full row-satu d-tr bg-d-tr bg-50% md:bg-20% bg-right-top bg-no-repeat">
                    </div>
                    <div class="col-span-full h-full row-satu d-tl bg-d-tl bg-50% md:bg-20% bg-left-top bg-no-repeat">
                    </div>
                    <div
                        class="col-span-full h-full row-satu d-br bg-d-br bg-50% md:bg-20% bg-right-bottom bg-no-repeat">
                    </div>
                    <div
                        class="col-span-full h-full row-satu d-bl bg-d-bl bg-50% md:bg-20% bg-left-bottom bg-no-repeat">
                    </div>
                    <!-- tekst -->
                    <div x-bind:class="{'animate-bintang-show':visible}"
                        class="col-span-full row-satu h-full text-base text-center py-16 mx-6 md:mx-3">
                        <div class="w-fit mx-auto font-amiri">
                            <h1>بسم الله الرحمن الرحيم</h1>
                            <h3>السلام عليكم ورحمة الله وبركاته</h3>
                        </div>
                        <div x-intersect:enter="sc = '#screen3'" class="w-fit mx-10 mt-4 font-sofia">
                            <p><%- textsContents[7].textContent %> <br> <br> Hari: <%- textsContents[8].textContent %>
                                        <br>
                                        Tanggal: <%- textsContents[5].textContent %> <br> Tempat: Majlis Ta'lim
                                            Al-Ukhuwwah
                                            Daarul Musthofa <br> <%- textsContents[6].textContent %> <br> <%-
                                                    textsContents[9].textContent %> <br> <span class="font-amiri"><%-
                                                            textsContents[10].textContent %></span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- screen 3 -->
        <div x-data="{lihat:false}" x-intersect:enter=" visible = true" x-intersect:leave="lihat = false"
            class="container">
            <!-- frame post 3 -->
            <div id="screen3" x-bind:class="{'animate-zhv':lihat}"
                class="h-full w-full bg-bg-m bg-hv md:bg-100% bg-center md:animate-zoo m-1 rounded-lg p-6  overflow-y-scroll scrollbar-none">
                <!-- count down -->
                <div
                    class="w-fit rounded-xl bg-d-d bg-top bg-100% mx-auto border border-turqu shadow-lg shadow-turqu-prime">
                    <div class="wrap text-center mx-6 md:mx-44">
                        <h1 class="text-4xl font-light mb-1">Hitungan Mundur <strong class="text-turqu">Menuju</strong>
                        </h1>
                        <h3 class="text-2xl font-light mb-6"><strong class="text-turqu">Perayaan Maulid
                                Nabi</strong>
                            Muhammad SAW</h3>
                        <div class="countdown grid grid-cols-4 gap-6">

                            <!-- Days -->
                            <div class="bloc-time days" data-init-value="00">
                                <span class="count-title text-gray-700">Hari</span>
                                <div class="figure text-5xl font-bold days-1">
                                    <span class="top">00</span>
                                    <span class="bottom">00</span>
                                </div>
                            </div>

                            <!-- Hours -->
                            <div class="bloc-time hours" data-init-value="00">
                                <span class="count-title text-gray-700">Jam</span>
                                <div class="figure text-5xl font-bold hours-1">
                                    <span class="top">00</span>
                                    <span class="bottom">00</span>
                                </div>
                            </div>

                            <!-- Minutes -->
                            <div class="bloc-time minutes" data-init-value="00">
                                <span class="count-title text-gray-700">Menit</span>
                                <div class="figure text-5xl font-bold minutes-1">
                                    <span class="top">00</span>
                                    <span class="bottom">00</span>
                                </div>
                            </div>

                            <!-- Seconds -->
                            <div class="bloc-time seconds" data-init-value="00">
                                <span class="count-title text-gray-700">Detik</span>
                                <div class="figure text-5xl font-bold seconds-1">
                                    <span class="top">00</span>
                                    <span class="bottom">00</span>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- susunan acara -->
                <div class="w-full text-center mt-6">
                    <h1 class="text-4xl font-light mb-1">Susunan<strong class="text-turqu"> Acara</strong></h1>
                    <!-- acara 1 -->
                    <div x-data="{visible:false}" x-intersect:enter="visible = true; sc = '#screen4'"
                        x-intersect:leave="visible = false">
                        <div x-bind:class="{'animate-bintang-show':visible}"
                            class="mt-6 w-full font-sofia text-base shadow-lg shadow-turqu rounded-xl p-1 bg-d-d bg-top bg-100% bg-opacity-45">
                            <h1 class="font-thin">Pengajian Bulanan Riyaadlul Jannah Desa Padasuka</h1>
                            <div class="flex justify-center items-center w-full">
                                <div class="w-full">
                                    <h2 class=" mb-1 text-turqu">Ahad</h2>
                                    <h4 class=""><%- textsContents[5].textContent %></h4>
                                </div>
                                <div class="w-full border-l border-turqu-prime">
                                    <h6 class="font-bold text-turqu">Khusus Akhwat</h6>
                                    <span class="block">Waktu: 07:00 WIB (pagi-pagi) sampai Zhuhur</span>
                                    <span class="block">Tempat: Di dalam Madrasah</span>
                                </div>
                            </div>
                            <div class=" mt-4">
                                <h1 class="">Muballighoh: Ustadzah Hj. Syifa Alawiyyah</h1>
                                <h6>Puteri Abuya Prof. Dr. (H.C) KH Muhammad Muhyiddin Abdul Qodir Al-Manafi MA
                                </h6>
                            </div>
                        </div>
                    </div>
                    <!-- acara 2 -->
                    <div x-data="{visible:false}" x-intersect:enter="visible = true"
                        x-intersect:leave="visible = false">
                        <div x-bind:class="{'animate-bintang-show':visible}"
                            class="mt-6 w-full font-sofia text-base shadow-lg shadow-turqu rounded-xl p-1 bg-d-d bg-top bg-100% bg-opacity-45">
                            <h1 class="font-thin">Tabligh Akbar</h1>
                            <div class="flex justify-center items-center w-full">
                                <div class="w-full">
                                    <h2 class=" mb-1 text-turqu">Ahad (Malam Senin)</h2>
                                    <h4 class=""><%- textsContents[5].textContent %></h4>
                                </div>
                                <div class="w-full border-l border-turqu-prime">
                                    <h6 class="font-bold text-turqu">Umum</h6>
                                    <span class="block">Waktu: 20:00 WIB sampai selesai</span>
                                </div>
                            </div>
                            <div class=" mt-4  w-full text-base">
                                <h1 class="">Muballig:</h1>
                                <ul>
                                    <li class="mb-4">
                                        Abuya KH Ahmad Bushiri Muslim <br>
                                        <small class="font-zilla text-turqu">PP Al-Burdah</small>
                                    </li>
                                    <li class="mb-4">
                                        Abuya Prof. Dr. (H.C) KH Muhammad Muhyiddin Abdul Qodir Al-Manafi MA<br>
                                        <small class="font-zilla text-turqu">PP Asy-Syifaa Wal Mahmudiyyah Simpang
                                            Sumedang</small>
                                    </li>
                                    <li class="mb-4">
                                        KH Ahmad Zakaria
                                    </li>
                                    <li class="mb-4">
                                        Al-Ustadz Muhammad Abdul Matin
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- panitia -->
                    <div x-data="{visible:false}" x-intersect:enter="() => {visible = true}"
                        x-intersect:leave="visible = false">
                        <div x-bind:class="{'animate-bintang-show':visible}" class="w-fit mx-auto my-4 font-Rundkursiv">
                            <h1>Panitia</h1>
                            <div
                                class="rounded-lg bg-panitia bg-center bg-100% w-64 h-14 border border-turqu-prime shadow-lg shadow-turqu">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- screen 4 -->
        <div x-data="{lihat:false}" x-intersect:enter="lihat = true" x-intersect:leave="lihat = false"
            class=" container">
            <!-- frame post 4 -->
            <div  x-data="{atm:false,pesan:false,
                atmInter(){
                    const el =document.getElementsByClassName('.bg-atm');
                    el[0].classList.toggle('w-52 h-32 animate-slide-out')
                }
            }" id="screen4" x-bind:class="{'animate-zhv':lihat}"
                class="h-screen w-full bg-bg-m bg-hv md:bg-100% bg-center md:animate-zoo m-1 rounded-lg p-6  overflow-y-scroll scrollbar-none">
                <!-- infaq sodaqoh -->
                <div class="container bg-d-d bg-center bg-100% border-b-8 shadow shadow-turqu text-center flex justify-between items-center py-8 rounded-lg">
                  <h1 class="text-4xl font-light mb-1">Ikut<strong class="text-turqu"> Andil</strong></h1>
                    <div class="relative w-24 h-24 bg-sdq bg-100% bg-top mx-auto bg-no-repeat">
                        <div x-intersect:enter="akhir=true; sc='#badan'" x-intersect:leave="akhir=false"
                            class=" absolute -bottom-4 left-1/2 transform -translate-x-1/2">
                            <button @click="atm = !atm; scroll = !scroll" class=" animate-bounce p-0.5 border border-turqu-prime text-turqu-prime rounded-xl w-40">
                                Kirim Hadiah
                            </button>
                        </div>
                    </div>
                    <div class="relative w-24 h-24 bg-pesan bg-100% bg-top mx-auto bg-no-repeat">
                        <div class=" absolute -bottom-4 left-1/2 transform -translate-x-1/2">
                            <button @click="pesan = !pesan; scroll = !scroll" class=" animate-bounce p-0.5 border border-turqu-prime text-turqu-prime rounded-xl w-40">
                                  Kirim Ucapan
                            </button>
                        </div>
                    </div>
                </div>
                <!-- load donatur dan pesan -->
                <div class="container h-96 grid grid-cols-2">
                  <div class="w-80 h-80 bg-d-d bg-100% bg-center rounded-2xl border-2 border-turqu-prime shadow shadow-turqu"></div>
                </div>
                <div x-show="atm" class="bg-d-d bg-100% bg-center absolute top-6 bottom-6 right-6 left-6 border border-turqu rounded-xl">
                      <div class="absolute -top-2 -right-2">
                        <button class="rounded-full bg-turqu text-white" @click="atm = !atm; scroll = !scroll"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                          </svg></button>
                      </div>
                      <%- include('atm') %>
                </div>
                <div x-show="pesan" class=" bg-d-d bg-100% bg-center absolute top-6 bottom-6 right-6 left-6 border border-turqu rounded-xl">
                    <div class="absolute -top-2 -right-2">
                        <button class="rounded-full bg-turqu text-white" @click="pesan = !pesan; scroll = !scroll"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                          </svg></button>
                      </div>
                      <%- include('pesan') %>
                </div>
            </div>
        </div>

       
    </section>
</div>


<script defer src="/javascripts/countDown.js"></script>
